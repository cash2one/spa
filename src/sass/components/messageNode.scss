@import "../common/mixin.scss";

div.messageNode{
  padding-top: 0.056rem;
  margin-bottom: 1.8rem;
  &.center{
    width:100%;
    font-size:0.667rem;
    margin-top:0.638rem;
    color:#999;
    text-align: center;
    line-height: 1.277rem;
    &>span{
      display: inline-block;
      position: relative;
      padding:0.1rem 0.5rem 0.1rem 1.6rem;
      border-radius: 0.2rem;
      background-color: #d9d9d9;
      &>a{
        margin-left:0.2rem;
        color:#fb5549;
      }
      &>i{
        display: block;
        position: absolute;
        left:0.5rem;
        top:50%;
        margin-top:-0.4445rem;
        width:0.889rem;
        height:0.889rem;
        @include imgBgFix(0.889rem 0.889rem);
      }
    }
    &.paidCouponTip{
      &>span>i{
        background-image: url("../../images/chat/paid_tip.png");
      }
    }
    &.couponTip{
      &>span>i{
        background-image: url("../../images/chat/coupon_Tip.png");
      }
    }
  }
  &.left,&.right {
    margin-top: 0.667rem;
    padding: 1.2rem 0.667rem 0;
    position: relative;
    & > span {
      position: absolute;
      color: #999;
      font-size: 0.667rem;
      line-height: 0.889rem;
      top: 0;
    }
    & > div:nth-of-type(1) {
      display: inline-block;
      width: 2.5rem;
      height: 2.5rem;
      border-radius: 50%;
      border:1px solid #cdd7e2;
      @include imgBgFix(2.5rem 2.5rem);
    }
    & > div:nth-of-type(2) {
      position: relative;
      display: inline-block;
      max-width: 11.844rem;
      line-height: 1.35rem;
      margin-top:0.5rem;
      padding: 0.4rem 0.8rem;
      font-size: 0.778rem;
      border-bottom-left-radius: 0.38rem;
      border-bottom-right-radius: 0.38rem;
      word-break: break-all;
      img {
        width: 1.2rem;
        height: 1.2rem;
        vertical-align: middle;
      }
      &:before {
        content: "";
        display: block;
        position: absolute;
        width: 0;
        height: 0;
        top: 0;
        border-bottom: 0.358rem solid transparent;
      }
      &.img {
        padding: 0.25rem;
        line-height: 0;
        & > img {
          border-radius: 0.2rem;
          width: 6rem;
          height: 8rem;
        }
      }
      &.reward{
        position: relative;
        color:#fff;
        text-indent: 1rem;
        &>span{
          font-size:1rem;
        }
        &>i{
          position: absolute;
          display: block;
          width:1.139rem;
          height:1.139rem;
          left:0.5rem;
          top:50%;
          margin-top:-0.5695rem;
          @include img("../../images/chat/money.png",1.139rem 1.139rem);
        }
      }
      &.begReward{
        position: relative;
        color:#fff;
        padding-left: 2.4rem;
        &>i{
          position: absolute;
          display: block;
          width:1.944rem;
          height:3.667rem;
          top:-0.7rem;
          left:0.3rem;
          @include img("../../images/chat/beg.png",1.944rem 3.667rem);
        }
      }
      &.order{
        background-color: #ededed !important;
        font-size:0.667rem !important;
        border:1px solid #cdd7e2;
        color:#666 !important;
        &>span{
          color:#fb5549 !important;
          font-size:0.778rem;
        }
        &>b{
          background-color: transparent;
          font-weight: normal;
          color:#333 !important;
        }
      }
      &.paidCoupon,&.ordinaryCoupon{
        background-color: #ff9c0a !important;
        color:#fff !important;
        padding-bottom:1.5rem !important;
        line-height: 2.222rem;
        text-indent: 4.5rem;
        &>i{
          position: absolute;
          display: block;
          width:4.111rem;
          height:1.194rem;
          line-height: 1.194rem;
          color:#ff9c0a;
          top:0.9rem;
          left:0.8rem;
          font-size:0.611rem;
          text-align: right;
          text-indent: 0;
          font-style: normal;
          box-sizing: border-box;
          padding-right:0.5rem;
          @include imgBgFix(4.111rem 1.194rem);
        }
        &>span{
          font-size:1.056rem;
        }
        &>b{
          position: absolute;
          display: block;
          height:1.167rem;
          left:0;
          right:0;
          bottom:0;
          line-height: 1.167rem;
          background-color: #fff;
          font-size:0.611rem;
          color:#a9a9a9;
          text-indent: 0;
          font-weight: normal;
          text-align: right;
          padding-right:0.5rem;
          border-bottom-left-radius: 0.38rem;
          border-bottom-right-radius: 0.38rem;
        }
      }
      &.paidCoupon{
        &>i{
          background-image: url("../../images/chat/paidCoupon.png");
        }
      }
      &.ordinaryCoupon{
        min-width: 8.5rem;
        &>i{
          background-image: url("../../images/chat/ordinaryCoupon.png");
        }
        &>b{
          text-align: center;
        }
      }
    }
    &:after { ////clear float
      content: "\200B";
      display: block;
      height: 0;
      clear: both;
    }

    &.dice-invite{
      &>div:nth-of-type(2){
        width:13.556rem;
        height:7.667rem;
        max-width: 15rem;
        padding:0;
        background-color: #fff;
        border-radius: 0.222rem;
        border:1px solid #e0e0e0;
        box-sizing: content-box;
        &>h4{
          position: relative;
          height:1.75rem;
          line-height: 1.75rem;
          padding-left:0.833rem;
          margin:0;
          color:#fff;
          font-weight: normal;
          background-color: #7cd1d0;
          border-top-left-radius: 0.222rem;
          border-top-right-radius:0.222rem;
          border-bottom:1px solid #f3f3f3;
          &>span{
            position: absolute;
            display: block;
            right:0.5rem;
            top:50%;
            height:0.833rem;
            line-height: 0.833rem;
            margin-top:-0.416rem;
            font-size:0.556rem;
            color:#ff9c0a;
            padding:0 0.2rem;
            border-radius: 0.389rem;
            background-color: #f5f5f5;
            opacity: 0.9;
          }
        }
        &>div{
          height: 5.806rem;
          padding-top:0.5rem;
          box-sizing: border-box;
          &>div {
            float: left;
          }
          &>div.dice{
            width:1.528rem;
            height:1.528rem;
            margin:2.333rem 0 0;
            @include img("../../images/chat/dice_set.png",1.528rem 1.528rem);
          }
          &>div.other,&>div.mine{
            width:6rem;
            box-sizing: border-box;
            &>div:nth-of-type(1){
              height:2rem;
              line-height: 2rem;
              margin:0 0.3rem;
              text-align: center;
              font-size:0.889rem;
              color:#154f67;
              letter-spacing: 1px;
              @include sl();
            }
          }
          &>div.mine{
            &>div:nth-of-type(2){
              width:2.444rem;
              height:2.444rem;
              margin:0 auto;
              border-radius: 0.222rem;
              @include imgBgFix(2.444rem 2.444rem);
            }
          }
          &>div.other{
            &>div:nth-of-type(2){
              height:2.444rem;
              line-height: 2.444rem;
              font-size:0.722rem;
              text-align: center;
              &.wait{
                color:#616161;
                line-height: 1.2rem;
                &>a.dice-game{
                  display: block;
                  height:1.2rem;
                  line-height: 1.2rem;
                  width:2rem;
                  margin:0.2rem auto 0;
                  background-color: #7cd1d0;
                  font-size:0.556rem;
                  color:#fff;
                  border-radius: 0.15rem;
                }
              }
              &.reject,&.cancel{
                color:#ff6666;
              }
            }
          }
        }
        &:before{
          display: none;
        }
      }
      &>div:nth-of-type(3){
        width:13.556rem;
        text-align: center;
        clear: both;
        padding:0.5rem 0;
        margin-left:1.5rem;
        height:1.333rem;
        line-height: 1.333rem;
        span{
          display: inline-block;
          padding:0 1.278rem;
          background-color: #bdbdbd;
          color:#fff;
          font-size:0.667rem;
          border-radius: 0.667rem;
        }
        &.hide{
          display: none;
        }
      }
    }

    &.dice-result{
      &>div:nth-of-type(2){
        position: relative;
        width:14.056rem;
        height:8.139rem;
        padding:0;
        border-radius: 0.222rem;
        max-width:15rem;
        background-color: #90d4d3;
        overflow: hidden;
        &>div.left,&>div.right{
          position: relative;
          float: left;
          &>div:nth-of-type(1){///user name
            padding-left:0.556rem;
            padding-top:0.778rem;
            line-height: 1;
            font-size:0.75rem;
            color:#164f67;
            @include sl();
          }
          &>div:nth-of-type(2){///dice
            position: absolute;
            width:4.056rem;
            height:4.056rem;
            top:50%;
            left:50%;
            margin-top:-2.028rem;
            margin-left:-2.028rem;
            border-radius: 50%;
            border:0.111rem solid rgba(22,79,103,0.5);
            background-color: rgba(255,255,255,0.5);
            text-align: center;
            img{
              width:3.33rem;
              height:3.33rem;
              margin-top:0.363rem;
            }
            &.act{
              &::after{
                display: block;
                position: absolute;
                content : "";
                width:3.778rem;
                height:2.556rem;
                left:0.15rem;
                @include img("../../images/chat/medal.png",3.778rem 2.556rem);
                opacity: 0;
                bottom:-2.5rem;
                @include transition(all 0.8s);
              }
            }
          }
          &>span{
            position: absolute;
            right:-0.8rem;
            bottom:0.389rem;
            padding:0 0.5rem;
            line-height:1rem;
            background-color: #164f67;
            color:#fff;
            font-size:0.7rem;
            border-radius: 0.9rem;
            opacity: 0;
            @include transition(all 0.8s);
          }
        }
        &>div.left{
          width:6.472rem;
          height:100%;
          border-right:0.111rem solid #164f67;
          background-color: #ff9c0a;
          border-top-left-radius: 0.222rem;
          border-bottom-left-radius: 0.222rem;
        }
        &>div.right{
          height:100%;
          width:7.33rem;
          &>div:nth-of-type(1){
            position: relative;
            &::after{
              display: block;
              position: absolute;
              content : "";
              width:2.611rem;
              height:1.111rem;
              left:0.3rem;
              bottom:-1.8rem;
              opacity: 0;
              @include imgBgFix(2.611rem 1.111rem);
              @include transition(all 0.8s);
            }
            &.victory{
              &::after{
                background-image: url("../../images/chat/victory.png");
              }
            }
            &.failure{
              &::after{
                background-image: url("../../images/chat/failure.png");
              }
            }
          }
          &>div:nth-of-type(2){
            left:56%;
          }
        }
        &>div.split{
          position: absolute;
          width:1.444rem;
          height:5.389rem;
          //border:1px solid #ff0000;
          bottom:0;
          left:6.472rem;
          &::after,&::before{
            position: absolute;
            display: block;
            content: "";
            width:0.722rem;
            background-color: #ff9c0a;
            border-right:0.111rem solid #164f67;
            border-top:0.111rem solid #164f67;
          }
          &::before{
            top:0;
            left:0;
            height:5.389rem;
          }
          &::after{
            top:2.6945rem;
            left:50%;
            height:2.6945rem;
          }
          &>i{
            display: block;
            position: absolute;
            left:0.18rem;
            top:0.8rem;
            width:1rem;
            height:1rem;
            line-height: 1rem;
            background-color: #fff;
            border:0.111rem solid #164f67;
            border-radius: 0.1rem;
            color:#164f67;
            text-align: center;
            font-style: normal;
          }
        }
        &:before{
          display: none;
        }
      }
      &>div:nth-of-type(3){
        width:14.056rem;
        text-align: center;
        clear: both;
        padding:0.5rem 0;
        margin-left:1rem;
        height:1.333rem;
        line-height: 1.333rem;
        opacity: 0;
        @include translate(0,1rem);
        @include transition(all 0.8s);
        span{
          display: inline-block;
          padding:0 1.278rem;
          background-color: #bdbdbd;
          color:#fff;
          font-size:0.667rem;
          border-radius: 0.667rem;
        }
        a{
          color:#3c88dd;
          text-decoration: underline;
        }
      }

      &.show{
        &>div:nth-of-type(2){
          &>div.right{
            &>div:nth-of-type(1){
              &::after{
                opacity: 1 !important;
                bottom:-1.25rem;
              }
            }
            &>span{
              opacity: 0.5;
              right:0.3rem;
            }
          }
          &>div.left,&>div.right{
            &>div:nth-of-type(2){
              &.act{
                &::after{
                  bottom:-1.355rem;
                  opacity: 1;
                }
              }
            }
          }
        }
        &>div:nth-of-type(3){
          opacity: 1;
          @include translate(0,0);
        }
      }
    }
  }
  &.left {
    &>span{
      left:0.667rem;
    }
    & > div:nth-of-type(1) {
      float: left;
      margin-right: 0.972rem;
    }
    & > div:nth-of-type(2) {
      float: left;
      background-color: #f86c61;
      color: #fff;
      border-top-right-radius: 0.38rem;
      &:before {
        left: -0.48rem;
        border-top: 0.358rem solid #f86c61;
        border-right: 0.358rem solid #f86c61;
        border-left: 0.358rem solid transparent;
      }
      &.reward,&.begReward{
        background-color: #6fa9f0;
        color:#fff;
        &:before{
          border-top: 0.358rem solid #6fa9f0;
          border-right: 0.358rem solid #6fa9f0;
        }
      }
      &.order{
        &:before{
          border:0;
          width:0.361rem;
          height:0.306rem;
          top:-1px;
          left:-0.361rem;
          @include img("../../images/chat/left-tip.png",0.361rem 0.306rem);
        }
      }
      &.paidCoupon,&.ordinaryCoupon{
        &:before {
          border-top: 0.358rem solid #ff9c0a;
          border-right: 0.358rem solid #ff9c0a;
        }
      }
    }

    &.dice-request{
      &>div:nth-of-type(2){
        padding:0;
        border-radius: 0.222rem;
        border:1px solid #e0e0e0;
        background-color: #fff;
        max-width:15rem;
        &>div:nth-of-type(1){
          padding:1.056rem 0.833rem 1.333rem 0.833rem;
          line-height: 1;
          &>div:nth-of-type(1){
            color:#212121;
            font-size:0.833rem;
            margin-bottom:1.056rem;
            @include sl();
            span{
              color:#ff6666;
            }
          }
          &>div:nth-of-type(2){
            color:#616161;
            font-size:0.667rem;
          }
        }
        &>div:nth-of-type(2){
          height:2.389rem;
          line-height: 2.389rem;
          text-align: center;
          border-top:1px solid #e0e0e0;
          &>div{
            float: left;
            height:100%;
            width:50%;
            box-sizing: border-box;
            font-size:0.833rem;
            border-right:1px solid #e0e0e0;
          }
          &.disabled{
            opacity: 0.5;
          }
          div.accept{
            color:#ff6666;
            border-right-width:0;
          }
          div.reject{
            color:#212121;
          }
        }
        &:before{
          display: none;
        }
      }
    }
  }
  &.right {
    & > span {
      right: 0.667rem;
    }
    & > div:nth-of-type(1) {
      float: right;
      margin-left: 0.972rem;
    }
    & > div:nth-of-type(2) {
      float: right;
      background-color: #cdd7e2;
      color: #4d4d4d;
      border-top-left-radius: 0.38rem;
      &:after{
        content: "!";
        display: block;
        position: absolute;
        left:-1.3rem;
        top:50%;
        margin-top:-0.45rem;
        width:0.9rem;
        height:0.9rem;
        font-size:0.667rem;
        line-height: 0.9rem;
        border-radius: 50%;
        text-align: center;
        color:#fff;
        background-color: #fb5549;
      }
      &::before {
        right: -0.45rem;
        border-top: 0.358rem solid #cdd7e2;
        border-left: 0.358rem solid #cdd7e2;
        border-right: 0.358rem solid transparent;
      }
      &.reward,&.begReward{
        background-color: #6fa9f0;
        color:#fff;
        &:before{
          border-top: 0.358rem solid #6fa9f0;
          border-left: 0.358rem solid #6fa9f0;
        }
      }
      &.paidCoupon,&.ordinaryCoupon{
        &:before {
          border-top: 0.358rem solid #ff9c0a;
          border-left: 0.358rem solid #ff9c0a;
        }
      }
      &.order{
        &:before{
          border:0;
          width:0.361rem;
          height:0.306rem;
          top:-1px;
          right:-0.361rem;
          @include img("../../images/chat/right-tip.png",0.361rem 0.306rem);
        }
      }

      &.success{
        &:after{
          display: none;
        }
      }
    }

    &.gift{
      &>div:nth-of-type(2){
        background-color: transparent;
        padding:0;
        &::before{
          display: none;
        }
        &>img{
          width:auto;
          height:auto;
        }
      }
    }
  }
}