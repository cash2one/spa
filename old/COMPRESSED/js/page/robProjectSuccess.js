!function(t){function e(t){return"[object Object]"===Object.prototype.toString.call(t)}function n(t,i,o){function a(t){for(var i in t)t.hasOwnProperty(i)&&(e(t[i])?r[i]=n(r[i],t[i]):r[i]=t[i])}if(0==Object.keys(i).length)return t;var r,t=e(t)?t:{};return o=o!==!1,r=o?{}:t,o&&a(t),a(i),r}function i(t){function e(t){var e=t.getBoundingClientRect(),n=document.documentElement.clientTop,i=document.documentElement.clientLeft;return{top:e.top-n,right:e.right-i,bottom:e.bottom-n,left:e.left-i,width:e.width}}function i(t,e,n,i){var o=x.children[t],i=!1!==i,a=o&&o.style;a&&(a.webkitTransitionDuration=a.MozTransitionDuration=a.msTransitionDuration=a.OTransitionDuration=a.transitionDuration=n+"ms",a.webkitTransform="translate("+e+"px,0)translateZ(0)",a.msTransform=a.MozTransform=a.OTransform="translateX("+e+"px)",i||setTimeout(function(){a.webkitTransform="translate("+e+"px,0)"},n),E[t]=e)}function o(t){return(g.length+t%g.length)%g.length}function a(e,n){var a=g[o(e)],r=a.dataset.index-0,d=g[o(r-1)],s=d.dataset.index,c=E[r];return r-1>=0?(i(s,-t.oneEleWidth+parseFloat(y[r]||0),0),E[s]=c):(i(s,parseFloat(a.dataset.tx||0)-parseFloat(d.dataset.tx||0)-t.oneEleWidth+parseFloat(y[r]||0),0),E[s]=-t.oneEleWidth-parseFloat(d.dataset.tx||0)+c),s}function r(e,n){var a=g[o(e)],r=a.dataset.index-0,d=g[o(r+1)],s=d.dataset.index,c=E[r];return r+1<g.length?(i(s,t.oneEleWidth+parseFloat(y[r]||0),0),E[s]=c):(i(s,t.oneEleWidth+parseFloat(y[r]||0)+parseFloat(a.dataset.tx||0)+parseFloat(d.dataset.tx||0),0),E[s]=t.oneEleWidth+parseFloat(a.dataset.tx||0)+c),s}function d(e,n,r,d){var s=t.index+t.showEleCount-e+2,c=[];E[o(s)]=(g[o(s)].dataset.currentTx||0)-0+n,c[o(s)];for(var l=s,h=t.index-e;l>=h;l--)c.push(a(l,r));c.forEach(function(t){i(t,E[t],r,d)})}function s(e,n,a,d){var s=e+t.index+t.showEleCount+1,c=t.index-1,l=[];E[o(c)]=(g[o(c)].dataset.currentTx||0)-0+n,l.push(o(c));for(var h=c,u=s;h<=u;h++)l.push(r(h,a));l.forEach(function(t){i(t,E[t],a,d)})}function c(t){var e=t.touches[0];f={x:e.clientX,y:e.clientY,time:+new Date},w=!0,m=void 0,p={},x.addEventListener("touchmove",l,!1),x.addEventListener("touchend",h,!1),x.addEventListener("touchcancel",h,!1)}function l(e){var i=e.touches[0];if(p={x:i.clientX-f.x,y:i.clientY-f.y},"undefined"==typeof m&&(m=!!(Math.abs(p.x)>Math.abs(p.y))),m){e.preventDefault(),$=Math.ceil(p.x/t.oneEleWidth);var o=Math.abs($);p.x<0?s(o,p.x,0):d(o,p.x,0),w=!1}y=n({},E)}function h(e){if(m){T+=p.x;for(var n=0,i=g.length;n<i;n++)g[n].dataset.currentTx=E[n]||0;t.index=o(Math.ceil(-T/t.oneEleWidth)-1);var a=-g[t.index].dataset.tx-E[t.index];b=!0,p.x<0?Math.abs(a)>t.oneEleWidth/2?(a-=t.oneEleWidth,d(0,a,300,!1)):s(0,a,300,!1):d(0,a,300,!1),setTimeout(function(){b=!1},300),T+=a;for(var n=0,i=g.length;n<i;n++)g[n].dataset.currentTx=E[n]||0;t.index=o(Math.ceil(-T/t.oneEleWidth)),x.dataset.index=t.index,x.dataset.moveTotal=T,x.removeEventListener("touchmove",l,!1),x.removeEventListener("touchend",h,!1),x.removeEventListener("touchcancel",h,!1)}}function u(){if(b){for(var t=0,e=g.length;t<e;t++){var n=g[t].style;n.webkitTransitionDuration=n.MozTransitionDuration=n.msTransitionDuration=n.OTransitionDuration=n.transitionDuration="0ms"}b=!1}}function v(){}var f,p,x,m,g,$,E={},y={},w=!1,T=0,b=!1,C=new v;if(t=n({container:null,callback:function(){},transitionEnd:null,oneEleWidth:0,index:0,showEleCount:1},t),!t.container)throw new Error("ScrollHori 窗器不能为空。");if(1!=t.container.dataset.hasScroll){if(x=t.container,x.dataset.hasScroll=!0,t.container.children.length<t.showEleCount)return void console.info("无需滚动");x.children.length<2*t.showEleCount&&(x.innerHTML+=x.innerHTML),g=x.children;var W=getComputedStyle(g[0]);t.oneEleWidth=t.oneEleWidth||(e(g[0]).width||g[0].offsetWidth||parseFloat(W.width))+parseFloat(W.marginLeft)+parseFloat(W.marginRight);for(var D=0,k=g.length;D<k;D++)g[D].dataset.tx=D*t.oneEleWidth,g[D].dataset.index=D;if("undefined"!=typeof x.dataset.index){for(var D=0,k=g.length;D<k;D++)E[D]=g[D].dataset.currentTx-0;t.index=x.dataset.index-0,T=x.dataset.moveTotal-0}else i(g.length-1,-g.length*t.oneEleWidth,0,!1),g[g.length-1].dataset.currentTx=-g.length*t.oneEleWidth,E[g.length-1]=-g.length*t.oneEleWidth;return y=n({},E),x.addEventListener("touchstart",c,!1),v.prototype.stopAnimation=u,C}}t.scrollHori=i}(window),function(){function t(t,e,n,i){if(t){var o=[],a="";e=e===!0,n=Math.abs(n||4),i=Math.abs(i||1),t=t.split(""),e&&(t=t.reverse());for(var r=i;r>0;r--)a+=" ";return t.forEach(function(t,e){o.push(t),(e+1)%n==0&&o.push(a)}),e&&o.reverse(),o.join("")}}var e=$.param("id");return e?($("div#title>div:nth-of-type(2)").Click(function(t){t.stopImmediatePropagation(),$.page("home",-1,!0)}),$("#content>div>div:nth-of-type(2)").Page("home",-1,!0),$("#content>div>div:nth-of-type(2)>div:nth-of-type(1)").CSS("background-image","url("+$.$.clubLogo+")"),$("#content>div>div:nth-of-type(2)>div:nth-of-type(2)").Text($.$.clubName),$.ajax({url:"../api/v2/club/user_paid_service_item/pay/view",isReplaceUrl:!0,data:{id:e},success:function(e){200==e.statusCode?(e=e.respData,$("#content>div>div:nth-of-type(4)>div:nth-of-type(1)>div:nth-of-type(1)>span").Text(t(e.couponNo)||"支付处理中..."),$("#show-coupons-pop>div>div>a").Text(e.shareUrl),$("#content>div>div:nth-of-type(3)>div:nth-of-type(4)").Click(function(){$.$.ua.isWX?$("#_shareMask",!0).Class("active"):$("#show-coupons-pop").Class("active")}),$("#show-coupons-pop>div>div:nth-of-type(3)").Click(function(){$("#show-coupons-pop").ClassClear("active")}),$("#content>div>div:nth-of-type(4)").Click(function(t,n){$.page("couponDetail&userActId="+e.id+"&couponType=paid_service_item")}),$.$.ua.isWX&&$.X5Config({title:$.$.clubName+"-"+e.name+"限时抢购就等你来",desc:"据说这个项目一般人抢不到，但是我觉得你可以！抢项目，约技师，享人间极乐。",link:e.shareUrl,imgUrl:e.imageUrl,success:function(){$("#_shareMask",!0).ClassClear("active")},cancel:function(){},fail:function(t){$.tipShow("分享失败！请稍后再试！")}})):$.tipShow(e.msg||"查询出错")}}),$.ajax({url:"../api/v2/club/top/techs",isReplaceUrl:!0,data:{clubId:$.$.clubID},success:function(t){if(200==t.statusCode){var e=[],t=t.respData;t.forEach(function(t,n){return!(n>4)&&void e.push('<div data-tech-id="'+t.id+'">                                        <div style="background-image: url('+(t.avatarUrl||$.$.defaultHeader)+')"></div>                                        <div><span>'+t.name+"</span><span>"+(t.star/20).toFixed(1)+"</span>                                        </div>                                        <div>"+t.orderCount+" 人约</div>                                    </div>")}),e.length>0&&($("#content>div>div:nth-of-type(5)").ClassClear("hide"),$("#content>div>div:nth-of-type(5)>div:nth-of-type(2)>div").Html(e.join("")),scrollHori({container:$("#content>div>div:nth-of-type(5)>div:nth-of-type(2)>div")[0],showEleCount:4}),$("#content>div>div:nth-of-type(5)>div:nth-of-type(1)").Page("technicianList"),$("#content>div>div:nth-of-type(5)>div:nth-of-type(2)>div>div").Click(function(t,e){$.page("technicianDetail&id="+e.dataset.techId)}))}}}),void $.pageSwitch()):($.tipShow("缺少必要参数：ID"),$.page("home",-1,!0))}();