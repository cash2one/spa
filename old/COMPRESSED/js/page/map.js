!function(){function e(e){var a=new AMap.LngLat(parseFloat(e.respData.lngx),parseFloat(e.respData.laty)),n=new AMap.Map("map-container",{view:new AMap.View2D({center:a,zoom:15,rotation:0})});AMap.event.addListener(n,"complete",function(){});var t=document.createElement("div");t.className="gd_marker",t.innerHTML="终";var r=new AMap.Marker({map:n,position:a,content:t,offset:new AMap.Pixel((-15),(-40))}),i=document.createElement("div");i.className="gd_infoWin",i.innerHTML="<h3>"+e.respData.name+"</h3><span>"+e.respData.address+"</span><i></i>";var p=new AMap.InfoWindow({isCustom:!0,content:i,offset:new AMap.Pixel(0,(-55))});p.open(n,r.getPosition()),$.pageSwitch(!0,!1)}$.ajax({url:"../club_map",data:{clubId:$.$.clubID},success:function(a){if("200"!=a.statusCode||!a.respData.lngx||0==a.respData.lngx.length)return $.tipShow("获取会所位置信息失败！"),void $.pageCancel();if(AMap&&AMap.LngLat)e(a);else var n=0,t=setInterval(function(){if(n++,AMap&&AMap.LngLat)clearInterval(t),e(a);else if(n>30)return clearInterval(t),$.tipShow("高德地图初始化失败！"),void $.pageCancel()},150)}})}();