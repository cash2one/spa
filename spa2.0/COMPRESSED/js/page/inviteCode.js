!function(){function e(e,t){$.ajax({url:"../api/v1/wx/club_tech_page_url",isReplaceUrl:!0,data:{clubInviteCode:e,techSerialNo:t||"",techInviteCode:$.$.techInviteCode||"",source:$.getUrlParam("tmp_clubSource")||""},success:function(e){if("200"==e.statusCode){e.respData.techInviteCode&&($.$.techInviteCode=e.respData.techInviteCode,$.sessionStorage("techInviteCode",$.$.techInviteCode));var t=e.respData.linkUrl.split("#");location.href=t[0]+"#"+t[1]+($.$.techSerialNo?"&techNo="+$.$.techSerialNo:"")+($.$.clubInviteCode?"&clubCode="+$.$.clubInviteCode:"")}else e.msg&&$.tipShow(e.msg||"操作失败")}})}$("#content>div:nth-of-type(1)>div:nth-of-type(2)").Page();var t,i,n=$("#club-invite-code"),o=$("#tech-no");$.$.clubInviteCode&&(n.Value($.$.clubInviteCode),$("#content>div:nth-of-type(1)>div:nth-of-type(2)").Event("click",function(){event.stopImmediatePropagation(),location.href=location.origin+location.pathname+"?club="+$.$.clubID})),$.$.techSerialNo&&o.Value($.$.techSerialNo),$.$.clubInviteCode&&($.$.techSerialNo||$.$.techInviteCode)&&e($.$.clubInviteCode,$.$.techSerialNo),$.pageSwitch(!1),n.Event("input",function(e,t){t.value=t.value.replace(/\D/g,"").substring(0,6)}),o.Event("input",function(e,t){/\W/.test(t.value)&&(t.value=t.value.replace(/\W/g,"")),t.value.length>6&&(t.value=t.value.substring(0,6))}),$("#content>div:nth-of-type(3)").Click(function(){if(t=n.Value(),0==t.length)return $.tipShow("请输入会所邀请码！");if(!/^\d{3,}$/.test(t))return $.tipShow("请输入正确的会所邀请码！");if(i=o.Value(),0==i.length)i="";else if(!/^\w{0,6}$/.test(i))return $.tipShow("请输入正确的技师编号！");e(t,i)})}();