!function(){function t(){return a.ClassHave("processing")?$.tipShow("正在请求二维码"):(a.Class("processing"),void $.ajax({url:"../api/v2/financial/account/pay/qrcode",isReplaceUrl:!0,success:function(c){if(a.ClassClear("processing"),"200"==c.statusCode){o&&clearTimeout(o),i.makeCode(c.respData.qrcode);var p="";c.respData.period>0?(o=setTimeout(t,1e3*c.respData.period),p=e(c.respData.period),p="1分钟"==p?"每分钟自动更换":"每"+p+"自动更换"):p="无限期，不自动刷新",n.Text(p)}else $.tipShow(c.msg||"请求二维码失败"),o&&clearTimeout(o),$("#content > div > div:nth-of-type(2) > div > div:nth-of-type(1)>img").Attr("src","img/loading_page.png")}}))}function e(t){var e,i,o="",a=Math.floor;return e=t%60,e&&(o+=e+"秒"),i=a(t/60),i>=60?(e=i%60,e&&(o=e+"分钟"+o),i=a(i/60),i>=24?(e=i%24,e&&(o=e+"小时"+o),i=a(i/24),o=i+"天"+o):o=i+"小时"+o):o=i+"分钟"+o,o}var i=new QRCode($("#content > div > div:nth-of-type(2) > div > div:nth-of-type(1)")[0],{width:430,height:430}),o=0,a=$("#content > div > div:nth-of-type(2) > div > div:nth-of-type(2)"),n=$("#content > div > div:nth-of-type(2) > div > div:nth-of-type(2)>span");(1==$.param("isDirect")||$.getUrlParam("isDirect"))&&$("#title>div:nth-of-type(2)").CSS("display","none"),t(),a.Click(function(){t()}),$.pageSwitch();var c=$.pageSwitch;$.pageSwitch=function(){console.log("切换页面时，清除定时器"),o&&clearTimeout(o),$.pageSwitch=c,$.pageSwitch()}}();